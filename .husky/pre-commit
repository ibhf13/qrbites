#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸ¶ Husky: Running pre-commit hook..."
echo "ğŸ“ Working directory: $(pwd)"
echo "ğŸ” Git status:"
git status --short

echo ""
echo "âœ¨ Running lint-staged..."
npx lint-staged

LINT_STAGED_EXIT_CODE=$?

if [ $LINT_STAGED_EXIT_CODE -ne 0 ]; then
  echo ""
  echo "âŒ Lint-staged failed with exit code: $LINT_STAGED_EXIT_CODE"
  exit $LINT_STAGED_EXIT_CODE
else
  echo ""
  echo "âœ… All checks passed! Proceeding with commit..."
fi
